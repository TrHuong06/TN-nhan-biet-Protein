<!-- Filename: index.html -->
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>M√¥ ph·ªèng: Nh·∫≠n bi·∫øt protein b·∫±ng ph√©p th·ª≠ biuret</title>
    <style>
        :root {
            /* --- B·∫¢NG M√ÄU H√ìA CH·∫§T --- */
            /* NaOH: Trong su·ªët (h∆°i x√°m nh·∫π ƒë·ªÉ th·∫•y ƒë∆∞·ª£c m·ª©c n∆∞·ªõc) */
            --chem-naoh: rgba(236, 240, 241, 0.6); 
            /* Albumin: Tr·∫Øng ƒë·ª•c */
            --chem-albumin: #ecf0f1;               
            /* H·ªón h·ª£p NaOH + Albumin: Tr·∫Øng ƒë·ª•c s√°ng */
            --chem-mix-1: #e2e7e9;                 
            /* CuSO4: Xanh lam t∆∞∆°i */
            --chem-cuso4: #00d2ff;                 
            /* K·∫øt qu·∫£ ph·∫£n ·ª©ng: T√≠m ƒë·∫∑c tr∆∞ng */
            --chem-final: #9b59b6;                 
            
            /* --- M√ÄU GIAO DI·ªÜN --- */
            --sidebar-bg: #f5f6fa;
            --stage-bg-grad-1: #34495e;
            --stage-bg-grad-2: #2c3e50;
            --glass-border: rgba(255, 255, 255, 0.4);
            --text-color: #2c3e50;
            --accent-color: #3498db;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #dcdde1;
            margin: 0;
            padding: 0;
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        /* KHUNG CH√çNH */
        .container {
            display: flex;
            width: 1100px;
            height: 650px;
            background: #fff;
            border-radius: 12px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.2);
            overflow: hidden;
        }

        /* --- C·ªòT TR√ÅI: ƒêI·ªÄU KHI·ªÇN & QUY TR√åNH --- */
        .sidebar {
            width: 350px;
            background: var(--sidebar-bg);
            padding: 30px;
            border-right: 1px solid #dcdde1;
            display: flex;
            flex-direction: column;
            overflow-y: auto;
        }

        .sidebar h2 {
            color: var(--text-color);
            border-bottom: 3px solid var(--accent-color);
            padding-bottom: 15px;
            font-size: 1.4rem;
            margin-top: 0;
            line-height: 1.4;
        }

        /* Danh s√°ch c√°c b∆∞·ªõc */
        .step-list {
            flex-grow: 1;
            margin-bottom: 20px;
        }

        .step-item {
            background: #fff;
            padding: 12px 15px;
            margin-bottom: 10px;
            border-radius: 8px;
            border: 1px solid #e0e0e0;
            color: #7f8c8d;
            font-size: 0.95rem;
            line-height: 1.5;
            transition: all 0.3s ease;
        }

        .step-item strong {
            display: block;
            margin-bottom: 4px;
            font-size: 1rem;
        }

        /* Tr·∫°ng th√°i b∆∞·ªõc ƒëang k√≠ch ho·∫°t */
        .step-item.active {
            border-left: 5px solid #2ecc71;
            background: #eafaf1;
            color: var(--text-color);
            box-shadow: 0 4px 6px rgba(0,0,0,0.05);
            font-weight: 500;
            transform: translateX(5px);
        }

        /* Khu v·ª±c n√∫t b·∫•m */
        .controls {
            display: flex;
            flex-direction: column;
            gap: 12px;
            padding-top: 20px;
            border-top: 1px solid #dcdde1;
        }

        button {
            padding: 14px;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            justify-content: flex-start;
            gap: 12px;
            text-align: left;
            font-size: 1rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .btn-action {
            background-color: var(--accent-color);
            color: white;
        }
        .btn-action:hover { background-color: #2980b9; transform: translateY(-2px); }
        .btn-action:active { transform: scale(0.98); }
        
        .btn-action:disabled { 
            background-color: #bdc3c7; 
            cursor: not-allowed; 
            opacity: 0.7; 
            transform: none; 
            box-shadow: none;
        }

        .btn-reset {
            background-color: white;
            color: #e74c3c;
            border: 2px solid #e74c3c;
            justify-content: center;
            margin-top: 10px;
        }
        .btn-reset:hover { background-color: #e74c3c; color: white; }

        /* --- C·ªòT PH·∫¢I: S√ÇN KH·∫§U TH√ç NGHI·ªÜM --- */
        .stage {
            flex: 1;
            background: radial-gradient(circle at center, var(--stage-bg-grad-1) 0%, var(--stage-bg-grad-2) 100%);
            position: relative;
            display: flex;
            justify-content: center;
            align-items: flex-end;
            padding-bottom: 60px;
            overflow: hidden; /* ·∫®n ph·∫ßn th·ª´a c·ªßa pipet */
        }

        /* Badge th√¥ng b√°o tr·∫°ng th√°i */
        .status-badge {
            position: absolute;
            top: 40px;
            background: rgba(0,0,0,0.75);
            color: #fff;
            padding: 12px 30px;
            border-radius: 50px;
            border: 1px solid rgba(255,255,255,0.2);
            backdrop-filter: blur(10px);
            text-align: center;
            font-size: 1.1rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            transition: all 0.3s;
            max-width: 80%;
            z-index: 100;
        }

        /* ·ªêNG NGHI·ªÜM */
        .test-tube {
            width: 100px;
            height: 380px;
            /* T·∫°o hi·ªáu ·ª©ng th·ªßy tinh */
            border-left: 3px solid var(--glass-border);
            border-right: 3px solid var(--glass-border);
            border-bottom: 8px solid var(--glass-border);
            border-radius: 0 0 50px 50px;
            background: rgba(255, 255, 255, 0.05); /* Th·ªßy tinh m·ªù */
            position: relative;
            overflow: hidden;
            z-index: 10;
            box-shadow: 0 15px 40px rgba(0,0,0,0.6);
        }

        /* Hi·ªáu ·ª©ng ph·∫£n chi·∫øu √°nh s√°ng tr√™n ·ªëng nghi·ªám */
        .test-tube::before {
            content: '';
            position: absolute;
            top: 5%; left: 10%;
            width: 10px; height: 85%;
            background: rgba(255,255,255,0.15);
            border-radius: 5px;
            filter: blur(3px);
            z-index: 12;
        }

        /* DUNG D·ªäCH TRONG ·ªêNG */
        .liquid {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 0%; /* M·∫∑c ƒë·ªãnh r·ªóng */
            background-color: var(--chem-naoh);
            transition: height 0.8s ease-out, background-color 1.5s ease;
            z-index: 5;
        }
        
        /* B·ªÅ m·∫∑t tho√°ng c·ªßa ch·∫•t l·ªèng (Meniscus) */
        .liquid::after {
            content: '';
            position: absolute;
            top: -7px; left: 0;
            width: 100%; height: 14px;
            border-radius: 50%;
            background-color: inherit;
            filter: brightness(1.2); /* S√°ng h∆°n ch√∫t ·ªü b·ªÅ m·∫∑t */
            opacity: 0.9;
        }

        /* PIPETTE (·ªêng h√∫t nh·ªè gi·ªçt) */
        .pipette-container {
            position: absolute;
            top: -250px; /* V·ªã tr√≠ ·∫©n ban ƒë·∫ßu */
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 220px;
            z-index: 20;
            transition: top 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            pointer-events: none;
        }
        
        /* V·∫Ω pipette b·∫±ng SVG ƒë·ªÉ s·∫Øc n√©t */
        .pipette-svg {
            width: 100%;
            height: 100%;
            filter: drop-shadow(5px 5px 10px rgba(0,0,0,0.4));
        }

        /* GI·ªåT N∆Ø·ªöC R∆†I */
        .drop {
            width: 14px;
            height: 20px;
            /* H√¨nh d√°ng gi·ªçt n∆∞·ªõc */
            border-radius: 50% 50% 50% 50% / 60% 60% 40% 40%;
            position: absolute;
            left: 50%;
            top: 100%; /* Xu·∫•t ph√°t t·ª´ ƒë·∫ßu pipet */
            transform: translateX(-50%);
            opacity: 0;
            z-index: 6;
        }

        /* Animation r∆°i */
        .drop-animation {
            animation: dropFall 0.5s linear forwards;
        }

        @keyframes dropFall {
            0% { 
                top: 200px; /* V·ªã tr√≠ ƒë·∫ßu kim pipet */
                opacity: 1; 
                transform: translateX(-50%) scale(0.6); 
            }
            100% { 
                top: 450px; /* R∆°i xu·ªëng ƒë√°y/m·∫∑t n∆∞·ªõc */
                opacity: 1; 
                transform: translateX(-50%) scale(1); 
            }
        }

    </style>
</head>
<body>

<div class="container">
    <!-- C·ªòT TR√ÅI: ƒêI·ªÄU KHI·ªÇN -->
    <div class="sidebar">
        <div>
            <h2>Nh·∫≠n bi·∫øt protein b·∫±ng ph√©p th·ª≠ biuret</h2>
            
            <div class="step-list">
                <div id="step1a" class="step-item active">
                    <strong>B∆∞·ªõc 1.1:</strong> Cho 5 ml dung d·ªãch NaOH lo√£ng v√†o ·ªëng nghi·ªám (T·∫°o m√¥i tr∆∞·ªùng ki·ªÅm).
                </div>
                <div id="step1b" class="step-item">
                    <strong>B∆∞·ªõc 1.2:</strong> Nh·ªè m·ªôt √≠t dung d·ªãch Albumin 1% ho·∫∑c l√≤ng tr·∫Øng tr·ª©ng.
                </div>
                <div id="step2" class="step-item">
                    <strong>B∆∞·ªõc 2:</strong> Th√™m 5 ml dung d·ªãch CuSO‚ÇÑ 1% v√†o h·ªón h·ª£p.
                </div>
                <div id="step3" class="step-item">
                    <strong>B∆∞·ªõc 3:</strong> Quan s√°t s·ª± thay ƒë·ªïi m√†u s·∫Øc c·ªßa dung d·ªãch sau ph·∫£n ·ª©ng.
                </div>
            </div>
        </div>

        <div class="controls">
            <button id="btn-1a" class="btn-action" onclick="runStep1a()">
                üß™ 1a. Nh·ªè NaOH (Trong su·ªët)
            </button>
            <button id="btn-1b" class="btn-action" onclick="runStep1b()" disabled>
                ü•ö 1b. Nh·ªè Albumin (ƒê·ª•c)
            </button>
            <button id="btn-2" class="btn-action" onclick="runStep2()" disabled>
                üíß 2. Nh·ªè CuSO‚ÇÑ (Xanh)
            </button>
            <button class="btn-reset" onclick="resetExp()">
                üîÑ L√†m l·∫°i th√≠ nghi·ªám
            </button>
        </div>
    </div>

    <!-- C·ªòT PH·∫¢I: S√ÇN KH·∫§U -->
    <div class="stage">
        <!-- Th√¥ng b√°o tr·∫°ng th√°i -->
        <div id="status" class="status-badge">S·∫µn s√†ng th√≠ nghi·ªám</div>

        <!-- PIPETTE SVG -->
        <div class="pipette-container" id="pipette">
            <svg class="pipette-svg" viewBox="0 0 60 180" fill="none" xmlns="http://www.w3.org/2000/svg">
                <!-- Ph·∫ßn b√≥p cao su m√†u ƒë·ªè -->
                <path d="M15 40 C15 10, 45 10, 45 40 L40 50 L20 50 Z" fill="#e74c3c" />
                <!-- Th√¢n ·ªëng th·ªßy tinh -->
                <rect x="22" y="50" width="16" height="100" fill="rgba(255,255,255,0.85)" stroke="#bdc3c7" stroke-width="1"/>
                <!-- ƒê·∫ßu kim -->
                <path d="M22 150 L30 170 L38 150 Z" fill="rgba(255,255,255,0.85)" stroke="#bdc3c7" stroke-width="1"/>
                
                <!-- Ch·∫•t l·ªèng b√™n trong Pipette (Thay ƒë·ªïi m√†u b·∫±ng JS) -->
                <rect id="pipette-liquid" x="24" y="80" width="12" height="60" fill="#ccc" rx="2" />
                <path id="pipette-tip-color" d="M24 140 L30 165 L36 140 Z" fill="#ccc" />
            </svg>
        </div>

        <!-- V√πng ch·ª©a c√°c gi·ªçt n∆∞·ªõc r∆°i (ƒë∆∞·ª£c t·∫°o b·ªüi JS) -->
        <div id="drop-zone"></div>

        <!-- ·ªêng nghi·ªám -->
        <div class="test-tube">
            <div class="liquid" id="liquid"></div>
        </div>
    </div>
</div>

<!-- M√É JAVA SCRIPT ƒêI·ªÄU KHI·ªÇN -->
<script>
    // --- 1. KHAI B√ÅO C√ÅC PH·∫¶N T·ª¨ DOM ---
    const liquid = document.getElementById('liquid');
    const pipette = document.getElementById('pipette');
    const pipetteLiquid = document.getElementById('pipette-liquid');
    const pipetteTip = document.getElementById('pipette-tip-color');
    const statusText = document.getElementById('status');
    const dropZone = document.getElementById('drop-zone');

    // N√∫t ƒëi·ªÅu khi·ªÉn
    const btn1a = document.getElementById('btn-1a');
    const btn1b = document.getElementById('btn-1b');
    const btn2 = document.getElementById('btn-2');

    // C√°c b∆∞·ªõc h∆∞·ªõng d·∫´n
    const steps = {
        '1a': document.getElementById('step1a'),
        '1b': document.getElementById('step1b'),
        '2': document.getElementById('step2'),
        '3': document.getElementById('step3')
    };

    // --- 2. H√ÄM H·ªñ TR·ª¢ ---

    // H√†m ƒë·ªïi highlight b∆∞·ªõc ƒëang th·ª±c hi·ªán
    function setStepActive(id) {
        Object.values(steps).forEach(el => el.classList.remove('active'));
        steps[id].classList.add('active');
    }

    // H√†m ƒëi·ªÅu khi·ªÉn Pipette v√† nh·ªè gi·ªçt
    function usePipette(pipetteColor, targetHeight, tubeColor, callback) {
        // A. N·∫°p h√≥a ch·∫•t v√†o Pipette
        pipetteLiquid.style.fill = pipetteColor;
        pipetteTip.style.fill = pipetteColor;

        // B. Di chuy·ªÉn Pipette xu·ªëng mi·ªáng ·ªëng nghi·ªám
        pipette.style.top = "60px";

        // C. B·∫Øt ƒë·∫ßu nh·ªè gi·ªçt sau khi Pipette ƒë√£ v√†o v·ªã tr√≠ (0.8s)
        setTimeout(() => {
            let dropCount = 0;
            const maxDrops = 5; // S·ªë l∆∞·ª£ng gi·ªçt s·∫Ω nh·ªè
            
            const dropInterval = setInterval(() => {
                createDrop(pipetteColor); // T·∫°o gi·ªçt n∆∞·ªõc
                dropCount++;
                
                if (dropCount >= maxDrops) {
                    clearInterval(dropInterval);
                    
                    // D. C·∫≠p nh·∫≠t tr·∫°ng th√°i cu·ªëi c√πng c·ªßa ·ªëng nghi·ªám
                    liquid.style.height = targetHeight;
                    liquid.style.backgroundColor = tubeColor;

                    // E. Thu Pipette v·ªÅ sau khi nh·ªè xong
                    setTimeout(() => {
                        pipette.style.top = "-250px";
                        if(callback) callback(); // G·ªçi h√†m ti·∫øp theo n·∫øu c√≥
                    }, 800);
                }
            }, 300); // Kho·∫£ng c√°ch th·ªùi gian gi·ªØa c√°c gi·ªçt (ms)

            // M·∫πo: Set chi·ªÅu cao ngay khi b·∫Øt ƒë·∫ßu nh·ªè ƒë·ªÉ transition CSS ch·∫°y m∆∞·ª£t ƒë·ªìng th·ªùi v·ªõi gi·ªçt n∆∞·ªõc
            liquid.style.height = targetHeight;
            
        }, 800); 
    }

    // H√†m t·∫°o ph·∫ßn t·ª≠ gi·ªçt n∆∞·ªõc
    function createDrop(color) {
        const d = document.createElement('div');
        d.className = 'drop drop-animation';
        d.style.backgroundColor = color;
        dropZone.appendChild(d);
        
        // X√≥a element kh·ªèi DOM sau khi animation k·∫øt th√∫c ƒë·ªÉ t·ªëi ∆∞u b·ªô nh·ªõ
        setTimeout(() => d.remove(), 600); 
    }

    // --- 3. C√ÅC B∆Ø·ªöC TH√ç NGHI·ªÜM CH√çNH ---

    // B∆Ø·ªöC 1a: Nh·ªè NaOH
    function runStep1a() {
        btn1a.disabled = true; // Kh√≥a n√∫t
        statusText.textContent = "ƒêang nh·ªè 5ml NaOH lo√£ng...";
        
        // NaOH g·∫ßn nh∆∞ trong su·ªët
        const pipetColor = "rgba(236, 240, 241, 0.9)"; 
        const tubeResultColor = "var(--chem-naoh)";
        
        usePipette(pipetColor, "30%", tubeResultColor, () => {
            statusText.textContent = "ƒê√£ c√≥ m√¥i tr∆∞·ªùng ki·ªÅm (NaOH). Ti·∫øp t·ª•c th√™m Albumin.";
            setStepActive('1b');
            btn1b.disabled = false; // M·ªü kh√≥a b∆∞·ªõc ti·∫øp theo
        });
    }

    // B∆Ø·ªöC 1b: Nh·ªè Albumin
    function runStep1b() {
        btn1b.disabled = true;
        statusText.textContent = "ƒêang nh·ªè Albumin 1%...";
        
        // Albumin tr·∫Øng ƒë·ª•c
        const pipetColor = "#ecf0f1";
        // K·∫øt qu·∫£: Dung d·ªãch trong ·ªëng tr·ªü n√™n ƒë·ª•c h∆°n
        const tubeResultColor = "var(--chem-mix-1)";
        
        usePipette(pipetColor, "50%", tubeResultColor, () => {
            statusText.textContent = "Ho√†n th√†nh B∆∞·ªõc 1: Dung d·ªãch ki·ªÅm ch·ª©a Protein.";
            setStepActive('2');
            btn2.disabled = false;
        });
    }

    // B∆Ø·ªöC 2: Nh·ªè CuSO4
    function runStep2() {
        btn2.disabled = true;
        statusText.textContent = "ƒêang nh·ªè CuSO‚ÇÑ 1%...";
        
        // CuSO4 m√†u xanh lam
        const pipetColor = "#3498db";
        // M·ªõi nh·ªè v√†o s·∫Ω c√≥ m√†u xanh
        const tubeResultColor = "var(--chem-cuso4)";
        
        usePipette(pipetColor, "75%", tubeResultColor, () => {
            statusText.textContent = "ƒê√£ th√™m CuSO‚ÇÑ. ƒêang ch·ªù ph·∫£n ·ª©ng x·∫£y ra...";
            setStepActive('3');
            
            // T·ª± ƒë·ªông k√≠ch ho·∫°t ph·∫£n ·ª©ng h√≥a h·ªçc sau 1.5 gi√¢y
            setTimeout(runReaction, 1500);
        });
    }

    // B∆Ø·ªöC 3: Ph·∫£n ·ª©ng (T·ª± ƒë·ªông)
    function runReaction() {
        statusText.textContent = "ƒêang x·∫£y ra ph·∫£n ·ª©ng Biuret...";
        statusText.style.borderColor = "#9b59b6"; // ƒê·ªïi m√†u vi·ªÅn th√¥ng b√°o
        
        // ƒê·ªïi m√†u dung d·ªãch sang T√≠m (Biuret reaction)
        liquid.style.backgroundColor = "var(--chem-final)";
        
        setTimeout(() => {
            statusText.textContent = "K·∫øt qu·∫£: Dung d·ªãch chuy·ªÉn sang m√†u t√≠m ƒë·∫∑c tr∆∞ng.";
        }, 2000);
    }

    // H√ÄM RESET (L√†m l·∫°i)
    function resetExp() {
        // ƒê∆∞a m·ª±c n∆∞·ªõc v·ªÅ 0
        liquid.style.height = "0%";
        liquid.style.backgroundColor = "var(--chem-naoh)";
        
        // Reset th√¥ng b√°o
        statusText.textContent = "S·∫µn s√†ng th√≠ nghi·ªám";
        statusText.style.borderColor = "rgba(255,255,255,0.2)";
        
        // Thu pipet (n·∫øu ƒëang k·∫πt)
        pipette.style.top = "-250px";
        
        // Reset highlight b∆∞·ªõc
        setStepActive('1a');
        
        // Reset n√∫t b·∫•m
        btn1a.disabled = false;
        btn1b.disabled = true;
        btn2.disabled = true;
    }

</script>

</body>
</html>